// Generated by CoffeeScript 1.7.1
angular.module('docbrowser').run([
  'ActionSheetService', function(ActionSheetService) {
    return ActionSheetService.register('NEW_DOC', 'components/docbrowser/newdoc.html');
  }
]);

angular.module('docbrowser').controller('NewDocumentActionSheetController', [
  '$scope', 'ActionSheetService', 'DocService', '$window', '$location', function($scope, ActionSheetService, DocService, $window, $location) {
    $scope.status = 'DEFAULT';
    $scope.name = '';
    $scope.docType = '';
    $scope.cancel = function() {
      return ActionSheetService.hide('NEW_DOC');
    };
    return $scope.createDocument = function() {
      var editor;
      $scope.status = 'CREATING';
      editor = $window.open('');
      $window.focus();
      return DocService.create($scope.name).then(function(doc) {
        ActionSheetService.hide('NEW_DOC');
        editor.location = $window.location.pathname.replace('index.html', 'research.html?d=' + doc._id);
        return editor.focus();
      });
    };
  }
]);

//# sourceMappingURL=newdoc.controller.map
